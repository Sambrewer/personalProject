{"version":3,"sources":["app.js","mainSvc.js","controllers/classCtrl.js","controllers/homeCtrl.js","controllers/loginCtrl.js","controllers/plannerCtrl.js","controllers/scoresCtrl.js"],"names":["angular","module","config","$stateProvider","$urlRouterProvider","state","url","templateUrl","controller","parent","otherwise","service","$http","baseUrl","login","user","method","data","then","response","getUser","get","console","log","getStudents","getAssignments","getScore","addScore","score","addAssignment","assignment","$scope","mainSvc","class","assignments","submitScore","student","assignmentid","subj","scoreObj","studentid","alert","$window","$location","screenWidth","innerWidth","show","currentUser","path","$stateParams","getStudent","students","i","length","id","parseInt","getScores","scores","push","svg","d3","select","margin","top","right","bottom","left","width","attr","height","x","scaleBand","rangeRound","padding","y","scaleLinear","g","append"],"mappings":"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","file":"bundle.js","sourcesContent":["angular.module('classroomApp', ['ui.router'])\n  .config(function($stateProvider, $urlRouterProvider) {\n\n    $stateProvider\n      .state('login', {\n        url: '/',\n        templateUrl: '../views/login.html',\n        controller: 'loginCtrl'\n      })\n      .state('home', {\n        url: '/home',\n        templateUrl: '../views/home.html',\n        controller: 'homeCtrl'\n      })\n      .state('class', {\n        url: '/class',\n        parent: 'home',\n        templateUrl: '../views/class.html',\n        controller: 'classCtrl'\n      })\n      .state('planner', {\n        url: '/planner',\n        parent: 'home',\n        templateUrl: '../views/planner.html',\n        controller: 'plannerCtrl'\n      })\n      .state('scores', {\n        url: 'scores/:id',\n        parent: 'home',\n        templateUrl: '../views/scores.html',\n        controller: 'scoresCtrl'\n      })\n\n    $urlRouterProvider\n      .otherwise('/')\n  })\n","angular.module('classroomApp').service('mainSvc', function($http) {\n  const baseUrl = 'http://localhost:3000/';\n  this.login = function(user) {\n    // console.log(user);\n\n     return $http({\n       method: 'POST',\n       url: baseUrl + 'api/users',\n       data: user\n     }).then((response) => {\n      //  console.log(response);\n       return response;\n     })\n  }\n  this.getUser = function() {\n    return $http.get(baseUrl + 'api/users').then(function(response) {\n      console.log(response.data[0]);\n      return response.data[0]\n    })\n  }\n  this.getStudents = function() {\n    return $http.get(baseUrl + 'api/students').then(function(response) {\n      console.log(response);\n      return response.data;\n    })\n  }\n  this.getAssignments = () => {\n    return $http.get(baseUrl + 'api/assignments').then((response) => {\n      return response.data;\n    })\n  }\n  this.getScore = ()=>{\n    return $http.get(baseUrl + 'api/scores').then((response) => {\n      return response.data;\n    })\n  }\n  this.addScore = (score) => {\n    return $http({\n      method: 'POST',\n      url: baseUrl + 'api/scores',\n      data: score\n    }).then((response) => {\n      return response.data;\n    })\n  }\n  this.addAssignment = (assignment) => {\n    return $http({\n      method: 'POST',\n      url: baseUrl + 'api/assignments',\n      data: assignment\n    }).then((response) => {\n      console.log(response);\n      return response.data;\n    })\n  }\n})\n","angular.module('classroomApp').controller('classCtrl', ($scope, mainSvc) => {\n  $scope.getStudents = () => {\n    mainSvc.getStudents().then((response) => {\n      $scope.class = response;\n      // console.log(response, 'students');\n    })\n  }\n  $scope.getStudents()\n  $scope.getAssignments = () => {\n    mainSvc.getAssignments().then((response) => {\n      $scope.assignments = response;\n      // console.log(response, 'assignments');\n    })\n  }\n  $scope.getAssignments()\n  $scope.submitScore = (student, assignmentid, score, subj) => {\n    let scoreObj = {};\n    scoreObj.studentid = student;\n    scoreObj.assignmentid = assignmentid;\n    scoreObj.score = score;\n    scoreObj.subj = subj;\n    // console.log(scoreObj, student);\n    mainSvc.addScore(scoreObj).then((response) => {\n      alert(response)\n    })\n  }\n})\n","angular.module('classroomApp').controller('homeCtrl', ($scope, $window, mainSvc, $location) => {\n  let screenWidth = $window.innerWidth;\n  if (screenWidth <= 600) {\n    $scope.show = false;\n  } else {\n    $scope.show = true;\n  }\n  $scope.getUser = function() {\n    mainSvc.getUser().then(function(response) {\n      $scope.currentUser = response;\n      console.log(response);\n    })\n    // console.log($scope.currentUser);\n  }\n  $scope.getUser()\n  console.log($scope.currentUser);\n})\n","angular.module('classroomApp').controller('loginCtrl', function($scope, mainSvc, $location) {\n  $scope.login = function(user) {\n    mainSvc.login(user).then(function(response) {\n      if (response.data) {\n        $location.path('/home');\n        $scope.currentUser = response.data[0]\n      } else {\n        alert('Incorrect Username/Password')\n      }\n    })\n  }\n})\n","angular.module('classroomApp').controller('plannerCtrl', function($scope, mainSvc) {\n  $scope.addAssignment = (assignment) => {\n    mainSvc.addAssignment(assignment).then(function(response) {\n      alert(response)\n    })\n  }\n})\n","angular.module('classroomApp').controller('scoresCtrl', ($scope, $stateParams, mainSvc) => {\n   $scope.getStudent = () => {\n     mainSvc.getStudents().then((response) => {\n       let students = response;\n       let student = {};\n       for (let i = 0; i < students.length; i++) {\n         if (students[i].id === parseInt($stateParams.id)) {\n           student = students[i];\n         }\n       }\n       $scope.student = student\n      //  console.log($scope.student);\n     })\n   }\n   $scope.getStudent();\n   $scope.getScores = () => {\n     let scores = [];\n     mainSvc.getScore().then((response) => {\n      //  console.log($scope.student, response);\n       for (var i = 0; i < response.length; i++) {\n         if (response[i].studentid === parseInt($scope.student.id)) {\n           scores.push(response[i]);\n         }\n       }\n       console.log(scores);\n       $scope.scores = scores\n     })\n   }\n   $scope.getScores()\n\n   let svg = d3.select(\"svg\")\n      , margin = {top: 20, right: 20, bottom: 30, left: 40}\n      , width = +svg.attr(\"width\") - margin.left - margin.right\n      , height = +svg.attr(\"height\") - margin.top - margin.bottom;\n\n   let x = d3.scaleBand().rangeRound([0, width]).padding(0.1)\n     , y = d3.scaleLinear().rangeRound([height, 0]);\n   let g= svg.append(\"g\")\n      .attr(\"transform\", `translate(${margin.left}, ${margin.top})`)\n})\n"]}